{"ast":null,"code":"import _classCallCheck from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/UserForm.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { editUserInfo as _editUserInfo, handleUpdateUser as _handleUpdateUser, loading as _loading } from '../../store/actions';\nimport UserAccount from './UserAccount';\nimport { REGION_LIST } from '../Map/REGION_LIST.js';\nimport { Select, FormControl, InputLabel, MenuItem } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar UserForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserForm, _React$Component);\n\n  var _super = _createSuper(UserForm);\n\n  function UserForm(props) {\n    var _this;\n\n    _classCallCheck(this, UserForm);\n\n    _this = _super.call(this, props);\n\n    _this.init = function () {\n      var _this$props = _this.props,\n          userName = _this$props.userName,\n          userLastName = _this$props.userLastName,\n          userEmail = _this$props.userEmail,\n          userBirthDate = _this$props.userBirthDate,\n          userPhone = _this$props.userPhone,\n          region = _this$props.region,\n          token = _this$props.token;\n\n      _this.setState({\n        edit: true,\n        loading: false,\n        userData: {\n          name: userName,\n          lastName: userLastName,\n          email: userEmail,\n          birth: userBirthDate,\n          phone: userPhone,\n          region: region,\n          token: token\n        }\n      });\n    };\n\n    _this.changeData = function (e, item) {\n      e.preventDefault();\n      var userData = _this.state.userData,\n          userDataPrev = userData;\n      userDataPrev[item] = e.target.value;\n\n      _this.setState({\n        userData: userDataPrev\n      });\n    };\n\n    _this.submitUserForm = function (e) {\n      var _this$props2 = _this.props,\n          handleUpdateUser = _this$props2.handleUpdateUser,\n          loading = _this$props2.loading;\n      var userData = _this.state.userData;\n      e.preventDefault();\n      loading(true);\n      var token = window.localStorage.getItem('userToken');\n      handleUpdateUser(userData, token); //window.ym(10665502,'reachGoal','mandarim-reg')\n\n      setTimeout(function () {\n        loading(false);\n      }, 800);\n    };\n\n    _this.state = {\n      edit: false,\n      loading: true,\n      regions: REGION_LIST,\n      userData: {\n        name: '',\n        lastName: '',\n        email: '',\n        birth: '',\n        phone: '',\n        token: '',\n        region: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(UserForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          loading = _this$props3.loading,\n          userName = _this$props3.userName;\n      loading(true);\n      setTimeout(function () {\n        if (userName) {\n          _this2.init();\n        }\n\n        loading(false);\n      }, 800);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props4 = this.props,\n          edit = _this$props4.edit,\n          loader = _this$props4.loader,\n          systemMessage = _this$props4.systemMessage,\n          userName = _this$props4.userName,\n          confirmedRules = _this$props4.confirmedRules,\n          checks = _this$props4.checks;\n      var _this$state$userData = this.state.userData,\n          name = _this$state$userData.name,\n          lastName = _this$state$userData.lastName,\n          region = _this$state$userData.region,\n          email = _this$state$userData.email,\n          birth = _this$state$userData.birth;\n      var regions = this.state.regions;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-12\",\n            children: loader ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loader-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loader\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this) : !userName || edit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"header\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row justify-content-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-auto\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"text-violet text-5xl mb-4\",\n                      children: \"\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-violet\",\n                      children: \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C \\u0443\\u0447\\u0430\\u0441\\u0442\\u0438\\u0435 \\u0432 \\u0440\\u043E\\u0437\\u044B\\u0433\\u0440\\u044B\\u0448\\u0435 \\u043C\\u043E\\u0433\\u0443\\u0442 \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u043B\\u0438\\u0446\\u0430, \\u0434\\u043E\\u0441\\u0442\\u0438\\u0433\\u0448\\u0438\\u0435 18 \\u043B\\u0435\\u0442\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: function onSubmit(e) {\n                  return _this3.submitUserForm(e);\n                },\n                style: {\n                  paddingBottom: '50px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"text\",\n                      className: \"w-full \",\n                      name: \"user_\",\n                      id: \"user_\",\n                      placeholder: \"\\u0418\\u043C\\u044F\",\n                      value: name && name,\n                      onChange: function onChange(e) {\n                        _this3.changeData(e, 'name');\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"text\",\n                      className: \" w-full \",\n                      name: \"user_\",\n                      id: \"user_\",\n                      placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n                      value: lastName && lastName,\n                      onChange: function onChange(e) {\n                        _this3.changeData(e, 'lastName');\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"email\",\n                      className: \" w-full \",\n                      name: \"user_\",\n                      id: \"user_\",\n                      placeholder: \"E-mail\",\n                      value: email && email,\n                      onChange: function onChange(e) {\n                        _this3.changeData(e, 'email');\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      variant: \"outlined\",\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        htmlFor: \"outlined-age-native-simple\",\n                        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"demo-customized-select-label\",\n                        id: \"demo-customized-select\",\n                        value: region,\n                        onChange: function onChange(e) {\n                          _this3.changeData(e, 'region');\n                        },\n                        label: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\",\n                        inputProps: {\n                          name: \"Выберите регион  \",\n                          id: \"outlined-age-native-simple\"\n                        },\n                        children: regions.map(function (item, index) {\n                          return /*#__PURE__*/_jsxDEV(MenuItem, {\n                            value: item.city,\n                            children: item.city\n                          }, index, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 170,\n                            columnNumber: 61\n                          }, _this3);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"number\",\n                      className: \" w-full \",\n                      name: \"user_age\",\n                      id: \"user_age\",\n                      placeholder: \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\",\n                      value: birth && birth,\n                      onChange: function onChange(e) {\n                        _this3.changeData(e, 'userBirthDate');\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 41\n                }, this), !confirmedRules && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row justify-content-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row politics\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        name: \"user_accept\",\n                        id: \"user_accept\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"user_accept\",\n                        className: \"check-box\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\u042F \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u0441\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                          className: \"btnLink orange\",\n                          href: \"https://dixy.ru/politika-obrabotki-i-zashity.pdf\",\n                          target: \"_blank\",\n                          children: \"\\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u041A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0438 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0438 \\u043C\\u043E\\u0438\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 57\n                        }, this), \", \\u043E\\u0437\\u043D\\u0430\\u043A\\u043E\\u043C\\u043B\\u0435\\u043D \\u0441 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\\u0438 \\u0430\\u043A\\u0446\\u0438\\u0438.\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 61\n                }, this), systemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-auto systemMessage mt-4 text-center\",\n                  children: systemMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 59\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mx-auto\",\n                  style: {\n                    width: 'fit-content',\n                    display: 'grid'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn grid mt-8 py-4 px-8\",\n                    type: \"submit\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(UserAccount, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)\n      }, void 0, false);\n    }\n  }]);\n\n  return UserForm;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    codeVerified: state.store.codeVerified,\n    token: state.store.token,\n    userName: state.store.userName,\n    userLastName: state.store.userLastName,\n    userEmail: state.store.userEmail,\n    userBirthDate: state.store.userBirthDate,\n    userPhone: state.store.userPhone,\n    region: state.store.region,\n    edit: state.store.edit,\n    loader: state.store.loader,\n    systemMessage: state.store.systemMessage,\n    confirmedRules: state.store.confirmedRules\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    editUserInfo: function editUserInfo(action) {\n      return dispatch(_editUserInfo(action));\n    },\n    handleUpdateUser: function handleUpdateUser(userData, token) {\n      return dispatch(_handleUpdateUser(userData, token));\n    },\n    loading: function loading(action) {\n      return dispatch(_loading(action));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserForm);","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/UserForm.jsx"],"names":["React","connect","editUserInfo","handleUpdateUser","loading","UserAccount","REGION_LIST","Select","FormControl","InputLabel","MenuItem","UserForm","props","init","userName","userLastName","userEmail","userBirthDate","userPhone","region","token","setState","edit","userData","name","lastName","email","birth","phone","changeData","e","item","preventDefault","state","userDataPrev","target","value","submitUserForm","window","localStorage","getItem","setTimeout","regions","loader","systemMessage","confirmedRules","checks","paddingBottom","id","map","index","city","width","display","Component","mapStateToProps","codeVerified","store","mapDispatchToProps","dispatch","action"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { editUserInfo, handleUpdateUser, loading } from '../../store/actions';\nimport UserAccount from './UserAccount'\nimport { REGION_LIST } from '../Map/REGION_LIST.js'\nimport { Select, FormControl, InputLabel, MenuItem } from \"@material-ui/core\";\n\n\n\nclass UserForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            edit: false,\n            loading: true,\n\n            regions: REGION_LIST,\n            userData: {\n                name: '',\n                lastName: '',\n                email: '',\n                birth: '',\n                phone: '',\n                token: '',\n                region: '',\n            },\n        }\n    }\n    init = () => {\n        const { userName, userLastName, userEmail, userBirthDate, userPhone, region, token } = this.props\n        this.setState({\n            edit: true,\n            loading: false,\n            userData: {\n                name: userName,\n                lastName: userLastName,\n                email: userEmail,\n                birth: userBirthDate,\n                phone: userPhone,\n                region: region,\n                token: token\n            }\n        })\n\n    }\n\n\n    componentDidMount() {\n        const { loading, userName } = this.props\n        loading(true)\n        setTimeout(() => {\n            if (userName) {\n                this.init()\n            }\n            loading(false)\n        }, 800)\n    }\n\n\n    changeData = (e, item) => {\n        e.preventDefault()\n        let { userData } = this.state,\n            userDataPrev = userData\n        userDataPrev[item] = e.target.value\n        this.setState({\n            userData: userDataPrev\n        })\n    }\n\n    submitUserForm = (e) => {\n        const { handleUpdateUser, loading } = this.props\n        const { userData } = this.state\n        e.preventDefault()\n        loading(true)\n        let token = window.localStorage.getItem('userToken')\n        handleUpdateUser(userData, token)\n        //window.ym(10665502,'reachGoal','mandarim-reg')\n        setTimeout(() => {\n            loading(false)\n        }, 800)\n    }\n\n    render() {\n        const { edit, loader, systemMessage, userName, confirmedRules, checks } = this.props\n\n        const {\n            name,\n            lastName,\n            region,\n            email,\n            birth\n        } = this.state.userData\n        const { regions } = this.state\n\n        return (\n            <>\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-lg-12\">\n                        {loader ?\n                            <div className=\"loader-container\">\n                                <div className=\"loader\"></div>\n                            </div>\n                            :\n\n                            !userName || edit ?\n                                <>\n                                    <header >\n                                        <div className=\"row justify-content-center\">\n                                            <div className=\"col-lg-auto\">\n                                                <h2 className='text-violet text-5xl mb-4'>\n                                                    регистрация </h2>\n                                                    <p className='text-violet'>Принять участие в розыгрыше могут только лица, достигшие 18 лет</p>\n                                            </div>\n                                        </div>\n                                    </header>\n                                    <form onSubmit={(e) => this.submitUserForm(e)} style={{ paddingBottom: '50px' }}>\n                                        <div className=\"grid grid-cols-2 gap-4\">\n\n                                            <div className=\"w-full\">\n                                                <input\n                                                    required\n                                                    type=\"text\"\n                                                    className=\"w-full \"\n                                                    name=\"user_\" id=\"user_\"\n                                                    placeholder=\"Имя\"\n                                                    value={name && name}\n                                                    onChange={(e) => { this.changeData(e, 'name') }}\n                                                />\n                                            </div>\n                                            <div className=\"w-full\">\n                                                <input\n                                                    required\n                                                    type=\"text\"\n                                                    className=\" w-full \"\n                                                    name=\"user_\" id=\"user_\"\n                                                    placeholder=\"Фамилия\"\n                                                    value={lastName && lastName}\n                                                    onChange={(e) => { this.changeData(e, 'lastName') }}\n                                                />\n                                            </div>\n                                            <div className=\"w-full\">\n                                                <input\n                                                    required\n                                                    type=\"email\"\n                                                    className=\" w-full \"\n                                                    name=\"user_\" id=\"user_\"\n                                                    placeholder=\"E-mail\"\n                                                    value={email && email}\n                                                    onChange={(e) => { this.changeData(e, 'email') }}\n                                                />\n                                            </div>\n\n                                            <div className=\"col-lg-6\">\n                                                <FormControl variant=\"outlined\">\n                                                    <InputLabel htmlFor=\"outlined-age-native-simple\">\n                                                        Выберите регион\n                                                    </InputLabel>\n                                                    <Select\n                                                        labelId=\"demo-customized-select-label\"\n                                                        id=\"demo-customized-select\"\n                                                        value={region}\n                                                        onChange={(e) => { this.changeData(e, 'region') }}\n                                                        label=\"Выберите регион\"\n                                                        inputProps={{\n                                                            name: \"Выберите регион  \",\n                                                            id: \"outlined-age-native-simple\",\n                                                        }}\n                                                    >\n                                                        {regions.map((item, index) => (\n                                                            <MenuItem value={item.city} key={index}>{item.city}</MenuItem>\n                                                        ))}\n                                                    </Select>\n                                                </FormControl>\n                                            </div>\n                                            <div className=\"w-full\">\n                                                <input\n                                                    required\n                                                    type=\"number\"\n                                                    className=\" w-full \"\n                                                    name=\"user_age\" id=\"user_age\"\n                                                    placeholder=\"Возраст\"\n                                                    value={birth && birth}\n                                                    onChange={(e) => { this.changeData(e, 'userBirthDate') }}\n                                                />\n                                            </div>\n                                        </div>\n                                        {!confirmedRules && <div className=\"row justify-content-center\">\n                                            <div className=\"col-lg-auto\">\n                                                <div className=\"row politics\">\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        name=\"user_accept\"\n                                                        id=\"user_accept\"\n                                                        required\n                                                    />\n                                                    <label htmlFor=\"user_accept\" className=\"check-box\"></label>\n                                                    <p>Я согласен с{' '}\n                                                        <a\n                                                            className=\"btnLink orange\"\n                                                            href=\"https://dixy.ru/politika-obrabotki-i-zashity.pdf\"\n                                                            target=\"_blank\">Политикой Конфиденциальности и обработки моих данных</a>, ознакомлен с правилами акции.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                        </div>}\n                                        {systemMessage && <div className=\"col-lg-auto systemMessage mt-4 text-center\">{systemMessage}</div>}\n                                        <div className=\"mx-auto\" style={{ width: 'fit-content', display: 'grid' }}>\n                                        <button className='btn grid mt-8 py-4 px-8' type='submit'>\n                                                <span>сохранить</span>\n                                            </button>\n\n                                        </div>\n                                    </form>\n                                </>\n                                : <UserAccount />\n                        }\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        codeVerified: state.store.codeVerified,\n        token: state.store.token,\n        userName: state.store.userName,\n        userLastName: state.store.userLastName,\n        userEmail: state.store.userEmail,\n        userBirthDate: state.store.userBirthDate,\n        userPhone: state.store.userPhone,\n        region: state.store.region,\n        edit: state.store.edit,\n        loader: state.store.loader,\n        systemMessage: state.store.systemMessage,\n        confirmedRules: state.store.confirmedRules\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        editUserInfo: (action) => dispatch(editUserInfo(action)),\n        handleUpdateUser: (userData, token) => dispatch(handleUpdateUser(userData, token)),\n        loading: (action) => dispatch(loading(action))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserForm);\n"]},"metadata":{},"sourceType":"module"}