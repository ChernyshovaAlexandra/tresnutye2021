{"ast":null,"code":"import _slicedToArray from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport LoginForm from \"./LoginForm\";\nimport UserForm from \"./UserForm\";\nimport UserAccount from \"./UserAccount\";\nimport API from \"../../utils/API.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FormComponent(_ref) {\n  _s();\n\n  var setForm = _ref.setForm,\n      form = _ref.form,\n      setToken = _ref.setToken,\n      token = _ref.token;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      edit = _useState4[0],\n      editUser = _useState4[1];\n\n  var loginUser = function loginUser() {\n    API.get('/profile').then(function (res) {\n      if (res.data.data) {\n        setUserData(res.data.data);\n\n        if (res.data.data.name) {\n          editUser(false);\n        }\n      }\n    });\n  };\n\n  useEffect(function () {\n    if (token) {\n      loginUser();\n    }\n  }, [token]);\n\n  var close = function close() {\n    document.querySelector(\"#root\").classList.remove(\"scrolled\");\n    setForm(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: userData.first_name ? /*#__PURE__*/_jsxDEV(UserAccount, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: form ? \"modalBox \" : \"modalBox hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modalBox__container \".concat(!token ? 'phone' : ''),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"close-btn__container cursor-pointer relative z-30\",\n          onClick: close,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"close-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modalBox__container__content\",\n          children: token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: userData.first_name ? /*#__PURE__*/_jsxDEV(UserForm, {\n              setForm: setForm,\n              form: form,\n              editUser: editUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(UserAccount, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 23\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(LoginForm, {\n            setToken: setToken\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormComponent, \"RXNKTWkzpc+JPYdahzzWEwSk/Jo=\");\n\n_c = FormComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormComponent\");","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/index.jsx"],"names":["React","useState","useEffect","LoginForm","UserForm","UserAccount","API","FormComponent","setForm","form","setToken","token","userData","setUserData","edit","editUser","loginUser","get","then","res","data","name","close","document","querySelector","classList","remove","first_name"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;;;AAKA,eAAe,SAASC,aAAT,OAA2D;AAAA;;AAAA,MAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAAA,MAATC,KAAS,QAATA,KAAS;;AACxE,kBAAgCV,QAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAOW,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAyBZ,QAAQ,CAAC,IAAD,CAAjC;AAAA;AAAA,MAAOa,IAAP;AAAA,MAAaC,QAAb;;AACA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBV,IAAAA,GAAG,CAACW,GAAJ,CAAQ,UAAR,EACGC,IADH,CAEI,UAAAC,GAAG,EAAI;AACL,UAAIA,GAAG,CAACC,IAAJ,CAASA,IAAb,EAAmB;AACjBP,QAAAA,WAAW,CAACM,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAX;;AACA,YAAID,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,IAAlB,EAAwB;AACtBN,UAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;AACF;AACF,KATL;AAWD,GAZD;;AAaAb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIS,KAAJ,EAAW;AACTK,MAAAA,SAAS;AACV;AACF,GAJQ,EAIN,CAACL,KAAD,CAJM,CAAT;;AAOA,MAAMW,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCC,SAAhC,CAA0CC,MAA1C,CAAiD,UAAjD;AACAlB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAHD;;AAIA,sBACE;AAAA,cAEII,QAAQ,CAACe,UAAT,gBACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADF,gBAEE;AAAK,MAAA,SAAS,EAAElB,IAAI,GAAG,WAAH,GAAiB,iBAArC;AAAA,6BACE;AAAK,QAAA,SAAS,gCAAyB,CAACE,KAAD,GAAS,OAAT,GAAmB,EAA5C,CAAd;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,mDAAf;AAAmE,UAAA,OAAO,EAAEW,KAA5E;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA,oBACGX,KAAK,gBACJ;AAAA,sBACGC,QAAQ,CAACe,UAAT,gBACC,QAAC,QAAD;AAAU,cAAA,OAAO,EAAEnB,OAAnB;AAA4B,cAAA,IAAI,EAAEC,IAAlC;AAAwC,cAAA,QAAQ,EAAEM;AAAlD;AAAA;AAAA;AAAA;AAAA,oBADD,gBAEC,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAHJ,2BADI,gBAOJ,QAAC,SAAD;AAAW,YAAA,QAAQ,EAAEL;AAArB;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAJN,mBADF;AA4BD;;GAvDuBH,a;;KAAAA,a","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport LoginForm from \"./LoginForm\";\nimport UserForm from \"./UserForm\";\nimport UserAccount from \"./UserAccount\";\nimport API from \"../../utils/API.js\";\n\n\n\n\nexport default function FormComponent({ setForm, form, setToken, token }) {\n  const [userData, setUserData] = useState(false)\n  const [edit, editUser] = useState(true)\n  const loginUser = () => {\n    API.get('/profile')\n      .then(\n        res => {\n          if (res.data.data) {\n            setUserData(res.data.data)\n            if (res.data.data.name) {\n              editUser(false)\n            }\n          }\n        }\n      )\n  }\n  useEffect(() => {\n    if (token) {\n      loginUser()\n    }\n  }, [token])\n\n\n  const close = () => {\n    document.querySelector(\"#root\").classList.remove(\"scrolled\");\n    setForm(false)\n  }\n  return (\n    <>\n      {\n        userData.first_name ?\n          <UserAccount /> :\n          <div className={form ? \"modalBox \" : \"modalBox hidden\"}>\n            <div className={`modalBox__container ${!token ? 'phone' : ''}`}>\n              <div className=\"close-btn__container cursor-pointer relative z-30\" onClick={close}>\n                <div className=\"close-btn\">\n                  <span></span>\n                  <span></span>\n                </div>\n              </div>\n              <div className=\"modalBox__container__content\">\n                {token ?\n                  <>\n                    {userData.first_name ?\n                      <UserForm setForm={setForm} form={form} editUser={editUser} /> :\n                      <UserAccount />}\n                  </>\n                  :\n                  <LoginForm setToken={setToken} />}\n              </div>\n            </div>\n          </div>\n      }\n    </>\n  )\n}"]},"metadata":{},"sourceType":"module"}