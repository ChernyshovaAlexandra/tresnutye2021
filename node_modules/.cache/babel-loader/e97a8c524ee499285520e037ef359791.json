{"ast":null,"code":"import _defineProperty from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/alexandrach/Projects/tresnutye2021/src/components/Sponsors.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport productsAPI from '../utils/productsAPI';\nimport { Select, FormControl, InputLabel, MenuItem } from \"@material-ui/core\";\nimport $ from \"jquery\";\nimport Carousel from './elements/Carousel';\nimport select_icon from \"../assets/img/select_icon.png\";\nimport ph2 from '../assets//img/phone2.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sponsors(_ref) {\n  _s();\n\n  var _jsxDEV2,\n      _jsxDEV3,\n      _this = this;\n\n  var full = _ref.full;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userData = _useState4[0],\n      setUserData = _useState4[1];\n\n  var _useState5 = useState(20),\n      _useState6 = _slicedToArray(_useState5, 2),\n      maxLength = _useState6[0],\n      setMaxLength = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      regions = _useState8[0],\n      setRegions = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      region = _useState10[0],\n      setRegion = _useState10[1];\n\n  var _useState11 = useState(16),\n      _useState12 = _slicedToArray(_useState11, 2),\n      goodsLength = _useState12[0],\n      setGoodsLength = _useState12[1];\n\n  useEffect(function () {\n    function fetchProducts() {\n      return _fetchProducts.apply(this, arguments);\n    }\n\n    function _fetchProducts() {\n      _fetchProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response, data, regionsRecieved, key, _userData, mainResponse;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!full) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _context.next = 3;\n                return productsAPI.get(\"/region-products\", {\n                  params: {\n                    project: 'skidka-ogon'\n                  }\n                });\n\n              case 3:\n                response = _context.sent;\n                setProducts(response.data);\n                data = response.data;\n                regionsRecieved = [];\n\n                for (key in data) {\n                  regionsRecieved.push(key);\n                }\n\n                _userData = data[regionsRecieved[0]] ? data[regionsRecieved[0]] : [];\n                setUserData(_userData);\n                setMaxLength(_userData.length);\n                setRegions(regionsRecieved);\n                setRegion(regionsRecieved[0]);\n                _context.next = 19;\n                break;\n\n              case 15:\n                _context.next = 17;\n                return productsAPI.get(\"/main-page-products\", {\n                  params: {\n                    project: 'skidka-ogon'\n                  }\n                });\n\n              case 17:\n                mainResponse = _context.sent;\n                setUserData(mainResponse.data.data);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchProducts.apply(this, arguments);\n    }\n\n    fetchProducts();\n  }, []);\n\n  function handleChange(e) {\n    var regionNew = e.target.value;\n    setUserData(products[regionNew]);\n    setRegion(regionNew);\n  }\n\n  function more() {\n    var top = $(\".loadMore\").offset().top;\n    $(\"html,body\").animate({\n      scrollTop: top\n    }, \"slow\");\n    setGoodsLength(function (goodsLength) {\n      return goodsLength + 16;\n    });\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"sponsors py-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto\",\n      children: [!full ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"additional tr mb-16 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-col-reverse flex md:flex-row gap-0 md:gap-8 md:justify-start justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-8 items-center mb-8 \",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-orange uppercase golos text-3xl text-right\",\n                  children: \"\\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0432\\u044B\\u0438\\u0433\\u0440\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u043F\\u043E\\u0434\\u0430\\u0440\\u043A\\u043E\\u0432? \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-right text-2xl\",\n                children: \"\\u0412\\u0441\\u0442\\u0443\\u043F\\u0430\\u0439\\u0442\\u0435 \\u0432 \\xAB\\u041A\\u043B\\u0443\\u0431 \\u0414\\u0440\\u0443\\u0437\\u0435\\u0439 \\u0414\\u0418\\u041A\\u0421\\u0418\\xBB \\u0438 \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u044F\\u0439\\u0442\\u0435\\u0441\\u044C \\u043A \\u0438\\u0433\\u0440\\u0435!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mob flex mt-4 justify-end gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", (_jsxDEV2 = {\n                  className: \"cursor-pointer\",\n                  href: \"https://play.google.com/store/apps/details?id=com.ru.dixy\"\n                }, _defineProperty(_jsxDEV2, \"className\", \"block\"), _defineProperty(_jsxDEV2, \"children\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: ps,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 11\n                }, this)), _jsxDEV2), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", (_jsxDEV3 = {\n                  className: \"cursor-pointer\",\n                  href: \"https://itunes.apple.com/ru/app/id1411447398?mt=8\"\n                }, _defineProperty(_jsxDEV3, \"className\", \"block\"), _defineProperty(_jsxDEV3, \"children\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: gs,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 11\n                }, this)), _jsxDEV3), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"desktop flex mt-4 justify-end\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: qr,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"phone\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"md:mx-0 mx-auto\",\n              src: ph2,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 14\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:flex gap-4 justify-between\\titems-center\",\n        id: \"sponsors\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-orange uppercase golos text-3xl sponsors__title\",\n          children: \"\\u0442\\u043E\\u0432\\u0430\\u0440\\u044B-\\u0441\\u043F\\u043E\\u043D\\u0441\\u043E\\u0440\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 6\n        }, this), full ? /*#__PURE__*/_jsxDEV(FormControl, {\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            htmlFor: \"outlined-age-native-simple\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-customized-select-label\",\n            id: \"demo-customized-select\",\n            value: region,\n            onChange: function onChange(e) {\n              return handleChange(e);\n            },\n            label: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\",\n            inputProps: {\n              name: \"Выберите регион\",\n              id: \"outlined-age-native-simple\"\n            },\n            children: regions.map(function (item, index) {\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item,\n                children: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 9\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 14\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"date text-orange text-bold text-2xl mt-4\",\n        children: \"25.10.21 - 31.10.21\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-4 grid-cols-2 mt-8 mx-auto sponsors-grid\",\n        children: userData.length !== 0 ? userData.slice(0, goodsLength).map(function (item, id) {\n          return (\n            /*#__PURE__*/\n            // <div className='sponsors__item' key={id}>\n            // \t<div className='sponsors__item-cover w-full '>\n            // \t\t<img src={item[0].img && item[0].img} alt={item[0].name} />\n            // \t</div>\n            // \t{item[0].mechanic_counts ? (\n            // \t\t<div className='sponsors__item-count'>\n            // \t\t\t<img className='count' src={item[0].mechanic_counts === 4 ? four : (item[0].mechanic_counts === 2 ? two : one)} alt='' />\n            // \t\t</div>\n            // \t) : null}\n            // \t<p className='sponsors__item-name'>\n            // \t\t{item[0].name}\n            // \t</p>\n            // </div>\n            _jsxDEV(Carousel, {\n              data: item,\n              marked: item.length > 1\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 8\n            }, _this)\n          );\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid place-items-center\",\n        children: !full ? /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/skidka-ogon/sponsors\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u0432\\u0441\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 7\n        }, this) : goodsLength < maxLength ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"loadMore btn mb-8\",\n          onClick: function onClick(e) {\n            return more(e);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 8\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Sponsors, \"8S7kC0gIyBlhMJcN1jnyLzM/poQ=\");\n\n_c = Sponsors;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sponsors\");","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/Sponsors.jsx"],"names":["React","useEffect","useState","Link","productsAPI","Select","FormControl","InputLabel","MenuItem","$","Carousel","select_icon","ph2","Sponsors","full","products","setProducts","userData","setUserData","maxLength","setMaxLength","regions","setRegions","region","setRegion","goodsLength","setGoodsLength","fetchProducts","get","params","project","response","data","regionsRecieved","key","push","length","mainResponse","handleChange","e","regionNew","target","value","more","top","offset","animate","scrollTop","ps","gs","qr","name","id","map","item","index","slice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport productsAPI from '../utils/productsAPI';\nimport { Select, FormControl, InputLabel, MenuItem } from \"@material-ui/core\";\nimport $ from \"jquery\";\nimport Carousel from './elements/Carousel';\n\nimport select_icon from \"../assets/img/select_icon.png\";\nimport ph2 from '../assets//img/phone2.png'\n\n\n\n\n\nexport default function Sponsors({ full }) {\n\n\tconst [products, setProducts] = useState([]);\n\tconst [userData, setUserData] = useState([]);\n\tconst [maxLength, setMaxLength] = useState(20);\n\tconst [regions, setRegions] = useState([]);\n\tconst [region, setRegion] = useState('');\n\tconst [goodsLength, setGoodsLength] = useState(16);\n\n\tuseEffect(() => {\n\t\tasync function fetchProducts() {\n\t\t\tif (full) {\n\t\t\t\tlet response = await productsAPI.get(\"/region-products\", {\n\t\t\t\t\tparams: { project: 'skidka-ogon' }\n\t\t\t\t});\n\t\t\t\tsetProducts(response.data);\n\n\t\t\t\tlet data = response.data;\n\n\t\t\t\tlet regionsRecieved = [];\n\t\t\t\tfor (let key in data) {\n\t\t\t\t\tregionsRecieved.push(key);\n\t\t\t\t}\n\t\t\t\tlet userData = data[regionsRecieved[0]] ? data[regionsRecieved[0]] : [];\n\n\t\t\t\tsetUserData(userData);\n\t\t\t\tsetMaxLength(userData.length);\n\t\t\t\tsetRegions(regionsRecieved);\n\t\t\t\tsetRegion(regionsRecieved[0]);\n\n\t\t\t} else {\n\t\t\t\tlet mainResponse = await productsAPI.get(\"/main-page-products\", {\n\t\t\t\t\tparams: { project: 'skidka-ogon' }\n\t\t\t\t});\n\t\t\t\tsetUserData(mainResponse.data.data);\n\t\t\t}\n\t\t}\n\t\tfetchProducts();\n\t}, []);\n\n\tfunction handleChange(e) {\n\t\tlet regionNew = e.target.value;\n\t\tsetUserData(products[regionNew]);\n\t\tsetRegion(regionNew);\n\t}\n\n\tfunction more() {\n\t\tlet top = $(\".loadMore\").offset().top;\n\t\t$(\"html,body\").animate({ scrollTop: top }, \"slow\");\n\t\tsetGoodsLength(goodsLength => goodsLength + 16);\n\t};\n\n\n\n\treturn (\n\t\t<section className='sponsors py-20'>\n\t\t\t<div className='container mx-auto'>\n\n\t\t\t\t{!full ? <div className=\"additional tr mb-16 mx-auto\">\n\t\t\t\t\t<div className=\"flex-col-reverse flex md:flex-row gap-0 md:gap-8 md:justify-start justify-center\">\n\n\t\t\t\t\t\t<div className=\"description\">\n\t\t\t\t\t\t\t<div className=\"content-inner\">\n\t\t\t\t\t\t\t\t<div className=\"flex gap-8 items-center mb-8 \">\n\t\t\t\t\t\t\t\t\t<h2 className='text-orange uppercase golos text-3xl text-right'>хотите выиграть больше подарков? </h2>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className='text-right text-2xl'>Вступайте в «Клуб Друзей ДИКСИ» и присоединяйтесь к игре!</p>\n\t\t\t\t\t\t\t\t<div className=\"mob flex mt-4 justify-end gap-4\">\n\t\t\t\t\t\t\t\t\t<a className='cursor-pointer' href='https://play.google.com/store/apps/details?id=com.ru.dixy' className=\"block\">\n\t\t\t\t\t\t\t\t\t\t<img src={ps} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a className='cursor-pointer' href='https://itunes.apple.com/ru/app/id1411447398?mt=8' className=\"block\">\n\t\t\t\t\t\t\t\t\t\t<img src={gs} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='desktop flex mt-4 justify-end'>\n\t\t\t\t\t\t\t\t\t<img src={qr} alt='' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"phone\">\n\t\t\t\t\t\t\t<img className='md:mx-0 mx-auto' src={ph2} alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div> : ''}\n\n\t\t\t\t<div className=\"md:flex gap-4 justify-between\titems-center\" id='sponsors'>\n\t\t\t\t\t<h2 className='text-orange uppercase golos text-3xl sponsors__title'>\n\t\t\t\t\t\tтовары-спонсоры\n\t\t\t\t\t</h2>\n\t\t\t\t\t{full ? <FormControl variant=\"outlined\">\n\t\t\t\t\t\t<InputLabel htmlFor=\"outlined-age-native-simple\">\n\t\t\t\t\t\t\tВыберите регион\n\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"demo-customized-select-label\"\n\t\t\t\t\t\t\tid=\"demo-customized-select\"\n\t\t\t\t\t\t\tvalue={region}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t\tlabel=\"Выберите регион\"\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tname: \"Выберите регион\",\n\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{regions.map((item, index) => (\n\t\t\t\t\t\t\t\t<MenuItem value={item} key={index}>\n\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl> : ''}\n\t\t\t\t</div>\n\t\t\t\t<p className='date text-orange text-bold text-2xl mt-4'>25.10.21 - 31.10.21</p>\n\t\t\t\t<div className='grid md:grid-cols-4 grid-cols-2 mt-8 mx-auto sponsors-grid'>\n\t\t\t\t\t{userData.length !== 0 ? userData.slice(0, goodsLength).map((item, id) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t// <div className='sponsors__item' key={id}>\n\t\t\t\t\t\t\t// \t<div className='sponsors__item-cover w-full '>\n\t\t\t\t\t\t\t// \t\t<img src={item[0].img && item[0].img} alt={item[0].name} />\n\t\t\t\t\t\t\t// \t</div>\n\t\t\t\t\t\t\t// \t{item[0].mechanic_counts ? (\n\t\t\t\t\t\t\t// \t\t<div className='sponsors__item-count'>\n\t\t\t\t\t\t\t// \t\t\t<img className='count' src={item[0].mechanic_counts === 4 ? four : (item[0].mechanic_counts === 2 ? two : one)} alt='' />\n\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t// \t) : null}\n\t\t\t\t\t\t\t// \t<p className='sponsors__item-name'>\n\t\t\t\t\t\t\t// \t\t{item[0].name}\n\t\t\t\t\t\t\t// \t</p>\n\t\t\t\t\t\t\t// </div>\n\t\t\t\t\t\t\t<Carousel key={id} data={item} marked={item.length > 1} />\n\t\t\t\t\t\t);\n\t\t\t\t\t}) : null}\n\t\t\t\t</div>\n\t\t\t\t<div className='grid place-items-center'>\n\t\t\t\t\t{!full ?\n\t\t\t\t\t\t<Link to=\"/skidka-ogon/sponsors\">\n\t\t\t\t\t\t\t<button className='btn mb-8'>\n\t\t\t\t\t\t\t\t<div className='bg'></div>\n\t\t\t\t\t\t\t\t<span>смотреть все</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t:\n\t\t\t\t\t\tgoodsLength < maxLength ? (\n\t\t\t\t\t\t\t<button className=\"loadMore btn mb-8\"\n\t\t\t\t\t\t\t\tonClick={(e) => more(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className='bg'></div>\n\t\t\t\t\t\t\t\t<span>Загрузить еще</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}