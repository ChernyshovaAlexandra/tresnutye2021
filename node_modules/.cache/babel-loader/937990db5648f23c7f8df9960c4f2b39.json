{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Sprite,Container,Text}from'@inlet/react-pixi';import bottomBg from'../../assets/img/units/zemlyaka/bottom-bg.png';// import { TweenMax } from \"gsap/gsap-core\";\nimport{DropShadowFilter}from'@pixi/filter-drop-shadow';import gsap from'gsap/all';import ScrollTrigger from\"gsap/ScrollTrigger\";import{TimelineMax}from\"gsap/gsap-core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UnitOpened(_ref){var items=_ref.items,cur=_ref.cur,headerStyle=_ref.headerStyle,descriptionStyle=_ref.descriptionStyle,wWidth=_ref.wWidth,UnitEggY=_ref.UnitEggY;var prilipalaRef=useRef();var topEggRef=useRef();var bottomEggRef=useRef();var eggRef=useRef();var headerRef=useRef();var descriptionRef=useRef();var sliderMainRef=useRef();var prilipalaShow=function prilipalaShow(){eggRef.current.filters=[new DropShadowFilter({distance:10,rotation:24,blur:5,color:'0x674EA7'})];prilipalaRef.current.filters=[new DropShadowFilter({distance:10,rotation:24,blur:5,color:'0x674EA7'})];gsap.registerPlugin(ScrollTrigger);var tl2=new TimelineMax();tl2.to(eggRef.current,.05,{scrollTrigger:{trigger:'.inside-content',start:'10',end:\"+=200\"},x:\"-=10\",yoyo:true,repeat:15}).fromTo(topEggRef.current,.35,{scrollTrigger:{trigger:'.inside-content',start:'10',end:\"+=200\"},rotation:'0',y:wWidth>780?'85':'67',x:wWidth>780?450:250},{y:wWidth>780?30:10,x:wWidth>780?450:250,rotation:'.4',delay:.75}).fromTo(bottomEggRef.current,.35,{scrollTrigger:{trigger:'.inside-content',start:'10',end:\"+=200\"},rotation:'0',y:wWidth>780?'217':'150',x:wWidth>780?450:250},{y:wWidth>780?270:140,x:wWidth>780?450:250,rotation:'-.4',delay:.75,css:{filter:'drop-shadow(1px 1px 10px violet)'}}).to(prilipalaRef.current,.75,{x:wWidth>780?\"150\":70,y:wWidth>780?\"150\":70,rotation:'-.3',height:wWidth>780?items[cur-1].p_width[1]*.6:items[cur-1].p_width[1]*.4,width:wWidth>780?items[cur-1].p_width[0]*.6:items[cur-1].p_width[0]*.4,ease:\"power4.inOut\",alpha:1,delay:.8}).fromTo(headerRef.current,.15,{alpha:0},{alpha:1,delay:1.2}).fromTo(descriptionRef.current,.25,{alpha:0},{alpha:1,delay:1.5});};useEffect(function(){prilipalaShow();},[cur]);useEffect(function(){// gsap.to(sliderMainRef.current, {\n//     scrollTrigger: sliderMainRef.current, \n//   });\n},[]);return/*#__PURE__*/_jsxs(Container,{x:wWidth>780?370:0,y:40,width:600,height:580,ref:sliderMainRef,children:[/*#__PURE__*/_jsx(Sprite,{image:items[cur-1].prilipala,width:wWidth>780?items[cur-1].p_width[0]*.4:items[cur-1].p_width[0]*.2,height:wWidth>780?items[cur-1].p_width[1]*.4:items[cur-1].p_width[1]*.2,x:wWidth>780?430:250,y:wWidth>780?137:70,anchor:.5,ref:prilipalaRef}),/*#__PURE__*/_jsxs(Container,{ref:eggRef,children:[/*#__PURE__*/_jsx(Container,{ref:bottomEggRef,x:wWidth>780?450:250,y:wWidth>780?217:150,children:/*#__PURE__*/_jsx(Sprite,{image:items[cur-1].bottomEgg,rotation:0,width:wWidth>780?260*.8:260*.5,height:wWidth>780?178*.8:178*.5,anchor:.5})}),/*#__PURE__*/_jsx(Sprite,{image:items[cur-1].topEgg,x:wWidth>780?450:250,width:wWidth>780?261*.8:261*.5,height:wWidth>780?187*.8:187*.5,y:wWidth>780?85:67,anchor:.5,ref:topEggRef})]}),/*#__PURE__*/_jsx(Text,{text:items[cur-1].name,style:headerStyle,x:50,y:wWidth>780?290:195,ref:headerRef}),/*#__PURE__*/_jsx(Text,{text:items[cur-1].description,x:50,y:wWidth>780?350:250,style:descriptionStyle,ref:descriptionRef})]});}","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/elements/UnitOpened.jsx"],"names":["React","useEffect","useRef","useState","Sprite","Container","Text","bottomBg","DropShadowFilter","gsap","ScrollTrigger","TimelineMax","UnitOpened","items","cur","headerStyle","descriptionStyle","wWidth","UnitEggY","prilipalaRef","topEggRef","bottomEggRef","eggRef","headerRef","descriptionRef","sliderMainRef","prilipalaShow","current","filters","distance","rotation","blur","color","registerPlugin","tl2","to","scrollTrigger","trigger","start","end","x","yoyo","repeat","fromTo","y","delay","css","filter","height","p_width","width","ease","alpha","prilipala","bottomEgg","topEgg","name","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Sprite, Container, Text } from '@inlet/react-pixi';\nimport bottomBg from '../../assets/img/units/zemlyaka/bottom-bg.png'\n// import { TweenMax } from \"gsap/gsap-core\";\nimport { DropShadowFilter } from '@pixi/filter-drop-shadow';\nimport gsap from 'gsap/all';\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport { TimelineMax } from \"gsap/gsap-core\";\n\n\n\n\nexport default function UnitOpened({ items, cur, headerStyle, descriptionStyle, wWidth, UnitEggY }) {\n\n\n    const prilipalaRef = useRef()\n    const topEggRef = useRef()\n    const bottomEggRef = useRef()\n    const eggRef = useRef()\n    const headerRef = useRef()\n    const descriptionRef = useRef()\n    const sliderMainRef = useRef()\n\n    const prilipalaShow = () => {\n\n        eggRef.current.filters = [new DropShadowFilter({\n            distance: 10,\n            rotation: 24,\n            blur: 5,\n            color: '0x674EA7'\n        })];\n        prilipalaRef.current.filters = [new DropShadowFilter({\n            distance: 10,\n            rotation: 24,\n            blur: 5,\n            color: '0x674EA7'\n        })];\n\n        gsap.registerPlugin(ScrollTrigger);\n        var tl2 = new TimelineMax();\n        tl2.to(eggRef.current, .05,\n\n            {\n                scrollTrigger: {\n                    trigger: '.inside-content',\n                    start: '10',\n                    end: \"+=200\"\n                },\n                x: \"-=10\", yoyo: true, repeat: 15\n            }\n        )\n            .fromTo(topEggRef.current, .35, {\n                scrollTrigger: {\n                    trigger: '.inside-content',\n                    start: '10',\n                    end: \"+=200\"\n                },\n                rotation: '0',\n                y: wWidth > 780 ? '85' : '67',\n                x: wWidth > 780 ? 450 : 250\n            }, {\n                y: wWidth > 780 ? 30 : 10,\n                x: wWidth > 780 ? 450 : 250,\n                rotation: '.4',\n                delay: .75,\n            })\n            .fromTo(bottomEggRef.current, .35, {\n                scrollTrigger: {\n                    trigger: '.inside-content',\n                    start: '10',\n                    end: \"+=200\"\n                },\n                rotation: '0',\n                y: wWidth > 780 ? '217' : '150',\n                x: wWidth > 780 ? 450 : 250\n            }, {\n                y: wWidth > 780 ? 270 : 140,\n                x: wWidth > 780 ? 450 : 250,\n                rotation: '-.4',\n                delay: .75,\n                css: {\n                    filter: 'drop-shadow(1px 1px 10px violet)'\n                }\n            })\n            .to(prilipalaRef.current,\n                .75,\n                {\n                    x: wWidth > 780 ? \"150\" : 70,\n                    y: wWidth > 780 ? \"150\" : 70,\n                    rotation: '-.3',\n                    height: wWidth > 780 ? items[cur - 1].p_width[1] * .6 : items[cur - 1].p_width[1] * .4,\n                    width: wWidth > 780 ? items[cur - 1].p_width[0] * .6 : items[cur - 1].p_width[0] * .4,\n                    ease: \"power4.inOut\",\n                    alpha: 1,\n                    delay: .8\n                },\n            )\n            .fromTo(\n                headerRef.current, .15, {\n                alpha: 0\n            },\n                {\n                    alpha: 1,\n                    delay: 1.2\n                }\n            )\n            .fromTo(\n                descriptionRef.current, .25, {\n                alpha: 0\n            },\n                {\n                    alpha: 1,\n                    delay: 1.5\n                }\n            )\n    }\n\n    useEffect(() => {\n        prilipalaShow()\n    }, [cur])\n\n    useEffect(() => {\n        // gsap.to(sliderMainRef.current, {\n        //     scrollTrigger: sliderMainRef.current, \n        //   });\n    }, [])\n\n    return (\n        <Container x={wWidth > 780 ? 370 : 0} y={40} width={600} height={580} ref={sliderMainRef}>\n            <Sprite\n                image={items[cur - 1].prilipala}\n                width={wWidth > 780 ? items[cur - 1].p_width[0] * .4 : items[cur - 1].p_width[0] * .2}\n                height={wWidth > 780 ? items[cur - 1].p_width[1] * .4 : items[cur - 1].p_width[1] * .2}\n                x={wWidth > 780 ? 430 : 250}\n                y={wWidth > 780 ? 137 : 70}\n                anchor={.5}\n                ref={prilipalaRef} />\n            <Container ref={eggRef}\n\n            >\n                <Container\n                    ref={bottomEggRef} x={wWidth > 780 ? 450 : 250}\n                    y={wWidth > 780 ? 217 : 150}\n                >\n                    <Sprite\n                        image={items[cur - 1].bottomEgg}\n                        rotation={0}\n                        width={wWidth > 780 ? 260 * .8 : 260 * .5}\n                        height={wWidth > 780 ? 178 * .8 : 178 * .5}\n                        anchor={.5} />\n                </Container>\n                <Sprite\n                    image={items[cur - 1].topEgg} x={wWidth > 780 ? 450 : 250}\n                    width={wWidth > 780 ? 261 * .8 : 261 * .5}\n                    height={wWidth > 780 ? 187 * .8 : 187 * .5}\n                    y={wWidth > 780 ? 85 : 67}\n                    anchor={.5}\n                    ref={topEggRef} />\n            </Container>\n\n            <Text text={items[cur - 1].name} style={headerStyle} x={50} y={wWidth > 780 ? 290 : 195} ref={headerRef} />\n            <Text text={items[cur - 1].description} x={50} y={wWidth > 780 ? 350 : 250} style={descriptionStyle} ref={descriptionRef} />\n\n        </Container>\n    )\n}"]},"metadata":{},"sourceType":"module"}