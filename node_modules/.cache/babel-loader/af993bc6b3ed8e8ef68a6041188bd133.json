{"ast":null,"code":"import _slicedToArray from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import LoginForm from\"./LoginForm\";import UserForm from\"./UserForm\";import UserAccount from\"./UserAccount\";import API from\"../../utils/API.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FormComponent(_ref){var setForm=_ref.setForm,form=_ref.form,setToken=_ref.setToken,token=_ref.token;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),edit=_useState4[0],editUser=_useState4[1];var loginUser=function loginUser(){API.get('/profile').then(function(res){if(res.data.data){setUserData(res.data.data);if(res.data.data.name){editUser(false);}}});};useEffect(function(){if(token){loginUser();}},[token]);var close=function close(){document.querySelector(\"#root\").classList.remove(\"scrolled\");setForm(false);};return/*#__PURE__*/_jsx(\"div\",{className:form?\"modalBox \":\"modalBox hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modalBox__container \".concat(!token?'phone':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"close-btn__container cursor-pointer relative z-30\",onClick:close,children:/*#__PURE__*/_jsxs(\"div\",{className:\"close-btn\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modalBox__container__content\",children:token?/*#__PURE__*/_jsx(_Fragment,{children:edit?/*#__PURE__*/_jsx(UserForm,{setForm:setForm,form:form,editUser:editUser}):/*#__PURE__*/_jsx(UserAccount,{})}):/*#__PURE__*/_jsx(LoginForm,{setToken:setToken})})]})});}","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/index.jsx"],"names":["React","useState","useEffect","LoginForm","UserForm","UserAccount","API","FormComponent","setForm","form","setToken","token","userData","setUserData","edit","editUser","loginUser","get","then","res","data","name","close","document","querySelector","classList","remove"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,C,6IAKA,cAAe,SAASC,CAAAA,aAAT,MAA2D,IAAlCC,CAAAA,OAAkC,MAAlCA,OAAkC,CAAzBC,IAAyB,MAAzBA,IAAyB,CAAnBC,QAAmB,MAAnBA,QAAmB,CAATC,KAAS,MAATA,KAAS,CACxE,cAAgCV,QAAQ,CAAC,KAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eACA,eAAyBZ,QAAQ,CAAC,IAAD,CAAjC,yCAAOa,IAAP,eAAaC,QAAb,eACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBV,GAAG,CAACW,GAAJ,CAAQ,UAAR,EACGC,IADH,CAEI,SAAAC,GAAG,CAAI,CACL,GAAIA,GAAG,CAACC,IAAJ,CAASA,IAAb,CAAmB,CACjBP,WAAW,CAACM,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAX,CACA,GAAGD,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,IAAjB,CAAsB,CACpBN,QAAQ,CAAC,KAAD,CAAR,CACD,CACF,CACF,CATL,EAWD,CAZD,CAaAb,SAAS,CAAC,UAAM,CACd,GAAIS,KAAJ,CAAW,CACTK,SAAS,GACV,CACF,CAJQ,CAIN,CAACL,KAAD,CAJM,CAAT,CAOA,GAAMW,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCC,SAAhC,CAA0CC,MAA1C,CAAiD,UAAjD,EACAlB,OAAO,CAAC,KAAD,CAAP,CACD,CAHD,CAIA,mBACE,YAAK,SAAS,CAAEC,IAAI,CAAG,WAAH,CAAiB,iBAArC,uBACE,aAAK,SAAS,+BAAyB,CAACE,KAAD,CAAS,OAAT,CAAmB,EAA5C,CAAd,wBACE,YAAK,SAAS,CAAC,mDAAf,CAAmE,OAAO,CAAEW,KAA5E,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,eADF,cAEE,eAFF,GADF,EADF,cAOE,YAAK,SAAS,CAAC,8BAAf,UACGX,KAAK,cACJ,yBACGG,IAAI,cACH,KAAC,QAAD,EAAU,OAAO,CAAEN,OAAnB,CAA4B,IAAI,CAAEC,IAAlC,CAAwC,QAAQ,CAAEM,QAAlD,EADG,cAEH,KAAC,WAAD,IAHJ,EADI,cAOJ,KAAC,SAAD,EAAW,QAAQ,CAAEL,QAArB,EARJ,EAPF,GADF,EADF,CAsBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport LoginForm from \"./LoginForm\";\nimport UserForm from \"./UserForm\";\nimport UserAccount from \"./UserAccount\";\nimport API from \"../../utils/API.js\";\n\n\n\n\nexport default function FormComponent({ setForm, form, setToken, token }) {\n  const [userData, setUserData] = useState(false)\n  const [edit, editUser] = useState(true)\n  const loginUser = () => {\n    API.get('/profile')\n      .then(\n        res => {\n          if (res.data.data) {\n            setUserData(res.data.data)\n            if(res.data.data.name){\n              editUser(false)\n            }\n          }\n        }\n      )\n  }\n  useEffect(() => {\n    if (token) {\n      loginUser()\n    }\n  }, [token])\n\n\n  const close = () => {\n    document.querySelector(\"#root\").classList.remove(\"scrolled\");\n    setForm(false)\n  }\n  return (\n    <div className={form ? \"modalBox \" : \"modalBox hidden\"}>\n      <div className={`modalBox__container ${!token ? 'phone' : ''}`}>\n        <div className=\"close-btn__container cursor-pointer relative z-30\" onClick={close}>\n          <div className=\"close-btn\">\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n        <div className=\"modalBox__container__content\">\n          {token ?\n            <>\n              {edit ?\n                <UserForm setForm={setForm} form={form} editUser={editUser} /> :\n                <UserAccount />}\n            </>\n            :\n            <LoginForm setToken={setToken} />}\n        </div>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}