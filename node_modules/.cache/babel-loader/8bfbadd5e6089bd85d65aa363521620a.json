{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import InputMask from\"react-input-mask\";import API from\"../../utils/API\";import arr from'../../assets/img/btn-arr.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],startTimer=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),code=_useState4[0],setCode=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),phoneNumber=_useState6[0],setPhone=_useState6[1];var getCode=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return API.post('/login_sms',{phone:phoneNumber}).then(function(res){console.log(res.data);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getCode(_x){return _ref.apply(this,arguments);};}();var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.post('/sms').then(function(res){return console.log(res.data);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function login(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-violet text-center text-3xl mb-8\",children:\"\\u0432\\u0445\\u043E\\u0434/\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();!code?getCode(e):login(e);},children:[/*#__PURE__*/_jsx(InputMask,{className:\"w-full\",placeholder:timer?'Введите код':'Введите номер телефона'/*{...this.state}*/,mask:timer?'999999':\"+7 (999) 999 99 99\",required:true,autofill:\"false\",id:\"user_phone\",value:timer?code:phoneNumber,onChange:function onChange(){timer?setCode(code):setPhone(phoneNumber);},maskChar:\"\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn grid py-4 px-8 w-fit mx-auto mt-8\",type:\"submit\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"img\",{src:arr,alt:\"\"})]})]})]});}","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/FormComponent/LoginForm.jsx"],"names":["React","useState","InputMask","API","arr","LoginForm","timer","startTimer","code","setCode","phoneNumber","setPhone","getCode","e","preventDefault","post","phone","then","res","console","log","data","login"],"mappings":"6dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,8BAAhB,C,wFAIA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAChC,cAA4BJ,QAAQ,CAAC,KAAD,CAApC,wCAAOK,KAAP,eAAcC,UAAd,eACA,eAAwBN,QAAQ,EAAhC,yCAAOO,IAAP,eAAaC,OAAb,eACA,eAAgCR,QAAQ,EAAxC,yCAAOS,WAAP,eAAoBC,QAApB,eACA,GAAMC,CAAAA,OAAO,0FAAG,iBAAOC,CAAP,kHACZA,CAAC,CAACC,cAAF,GADY,sBAENX,CAAAA,GAAG,CAACY,IAAJ,CAAS,YAAT,CAAuB,CACzBC,KAAK,CAAEN,WADkB,CAAvB,EAGDO,IAHC,CAGI,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACH,CALC,CAFM,uDAAH,kBAAPT,CAAAA,OAAO,4CAAb,CASA,GAAMU,CAAAA,KAAK,2FAAG,+JACJnB,CAAAA,GAAG,CAACY,IAAJ,CAAS,MAAT,EACDE,IADC,CACI,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAAJ,EADP,CADI,yDAAH,kBAALC,CAAAA,KAAK,2CAAX,CAKA,mBACI,oCACI,WAAI,SAAS,CAAC,uCAAd,0GADJ,cAGI,cACI,QAAQ,CACJ,kBAACT,CAAD,CAAO,CAAEA,CAAC,CAACC,cAAF,GAAoB,CAACN,IAAD,CAAQI,OAAO,CAACC,CAAD,CAAf,CAAqBS,KAAK,CAACT,CAAD,CAA1B,CAA+B,CAFpE,wBAKI,KAAC,SAAD,EACI,SAAS,CAAC,QADd,CAEI,WAAW,CAAEP,KAAK,CAAG,aAAH,CAAmB,wBACrC,mBAHJ,CAII,IAAI,CAAEA,KAAK,CAAG,QAAH,CAAc,oBAJ7B,CAKI,QAAQ,KALZ,CAMI,QAAQ,CAAC,OANb,CAOI,EAAE,CAAC,YAPP,CAQI,KAAK,CAAEA,KAAK,CAAGE,IAAH,CAAUE,WAR1B,CASI,QAAQ,CAAE,mBAAM,CAAEJ,KAAK,CAAGG,OAAO,CAACD,IAAD,CAAV,CAAmBG,QAAQ,CAACD,WAAD,CAAhC,CAA+C,CATrE,CAUI,QAAQ,CAAC,EAVb,EALJ,cAgBI,gBAAQ,SAAS,CAAC,uCAAlB,CAA0D,IAAI,CAAC,QAA/D,wBACI,mGADJ,cAEI,YAAK,GAAG,CAAEN,GAAV,CAAe,GAAG,CAAC,EAAnB,EAFJ,GAhBJ,GAHJ,GADJ,CA2BH","sourcesContent":["import React, { useState } from \"react\";\nimport InputMask from \"react-input-mask\";\nimport API from \"../../utils/API\";\nimport arr from '../../assets/img/btn-arr.png'\n\n\n\nexport default function LoginForm() {\n    const [timer, startTimer] = useState(false)\n    const [code, setCode] = useState()\n    const [phoneNumber, setPhone] = useState()\n    const getCode = async (e) => {\n        e.preventDefault()\n        await API.post('/login_sms', {\n            phone: phoneNumber\n        })\n            .then(res => {\n                console.log(res.data)\n            })\n    }\n    const login = async () => {\n        await API.post('/sms')\n            .then(res => console.log(res.data))\n    }\n\n    return (\n        <div>\n            <h2 className='text-violet text-center text-3xl mb-8'>\n                вход/регистрация </h2>\n            <form\n                onSubmit={\n                    (e) => { e.preventDefault(); !code ? getCode(e) : login(e) }\n                }\n            >\n                <InputMask\n                    className='w-full'\n                    placeholder={timer ? 'Введите код' : 'Введите номер телефона'}\n                    /*{...this.state}*/\n                    mask={timer ? '999999' : \"+7 (999) 999 99 99\"}\n                    required\n                    autofill='false'\n                    id=\"user_phone\"\n                    value={timer ? code : phoneNumber}\n                    onChange={() => { timer ? setCode(code) : setPhone(phoneNumber) }}\n                    maskChar=\"\" />\n                <button className='btn grid py-4 px-8 w-fit mx-auto mt-8' type='submit'>\n                    <span>отправить код</span>\n                    <img src={arr} alt=\"\" />\n                </button>\n            </form>\n        </div >\n    )\n}"]},"metadata":{},"sourceType":"module"}