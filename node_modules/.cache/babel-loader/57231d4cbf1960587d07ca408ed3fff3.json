{"ast":null,"code":"import _slicedToArray from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import bg from'../../assets/img/violet-units.png';import bg_m from'../../assets/img/violet-units-mob.png';import bg2 from'../../assets/img/white-units.png';import bg2_m from'../../assets/img/white-units-mob.png';import arr_up from'../../assets/img/arr-units-up.png';import arr_down from'../../assets/img/arr-units-down.png';import React,{useState}from'react';import{Stage,Sprite,Container,Text}from'@inlet/react-pixi';import UnitEgg from'./Unitegg';import*as PIXI from'pixi.js';import UnitOpened from'./UnitOpened';import{items}from'./UnitsMass';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UnitsBlock(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),active=_useState4[0],setActive=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),cur=_useState6[0],setCur=_useState6[1];var _useState7=useState(window.innerWidth),_useState8=_slicedToArray(_useState7,2),wWidth=_useState8[0],setWidth=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),UnitEggY=_useState10[0],setUnitY=_useState10[1];window.addEventListener('resize',function(event){setWidth(window.innerWidth);},true);var style=new PIXI.TextStyle({align:\"center\",fontFamily:\"Junegull\",fontSize:18,fontWeight:\"bold\",fill:[\"#fff\"]});var headerStyle=new PIXI.TextStyle({align:\"center\",fontFamily:\"Junegull\",fontSize:42,fontWeight:\"bold\",fill:[\"#7400BB\"]});var descriptionStyle=new PIXI.TextStyle({fontFamily:\"Golos\",fontSize:15,fontWeight:\"400\",fill:[\"#7400BB\"],lineHeight:25,wordWrap:true,wordWrapWidth:wWidth>780?520:250});var showNext=function showNext(){if(index>items.length-4){setIndex(0);}else{setIndex(index+1);}};var showPrev=function showPrev(){if(index<=0){setIndex(items.length-3);}else{setIndex(index-1);}};var startShowPrilipala=function startShowPrilipala(id,id2){setUnitY(id===1?276:id===2?410:140);setActive(id);setCur(id2);};return/*#__PURE__*/_jsx(_Fragment,{children:wWidth!==false?/*#__PURE__*/_jsxs(Stage,{width:wWidth>780?1100:342,height:wWidth>780?700:768,options:{backgroundAlpha:0},children:[/*#__PURE__*/_jsx(Sprite,{width:wWidth>780?942:341,height:wWidth>780?629:750,image:wWidth>780?bg:bg_m,x:0,y:30}),/*#__PURE__*/_jsx(Sprite,{image:wWidth>780?bg2:bg2_m,x:wWidth>780?335:0,y:0,width:wWidth>780?678:341,height:wWidth>780?619:653}),wWidth>780?/*#__PURE__*/_jsx(Container,{children:items.slice(index,index+3).map(function(egg,id){return/*#__PURE__*/_jsx(UnitEgg,{egg:egg,x:120,y:id===1?276:id===2?410:140,setActive:function setActive(){return startShowPrilipala(id,egg.id);},active:id===active?true:false},id);})}):null,cur!==undefined?/*#__PURE__*/_jsx(UnitOpened,{items:items,cur:cur,headerStyle:headerStyle,descriptionStyle:descriptionStyle,wWidth:wWidth,UnitEggY:UnitEggY}):null,/*#__PURE__*/_jsxs(Container,{x:wWidth>780?80:50,y:wWidth>780?500:630,children:[/*#__PURE__*/_jsx(Text,{text:\"\".concat(cur,\" / \").concat(items.length),style:style,x:160,y:30}),/*#__PURE__*/_jsx(Sprite,{image:arr_up,interactive:true,buttonMode:true,pointerdown:showPrev}),/*#__PURE__*/_jsx(Sprite,{image:arr_down,interactive:true,buttonMode:true,x:80,pointerdown:showNext})]})]}):null});}","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/elements/UnitsBlock.jsx"],"names":["bg","bg_m","bg2","bg2_m","arr_up","arr_down","React","useState","Stage","Sprite","Container","Text","UnitEgg","PIXI","UnitOpened","items","UnitsBlock","index","setIndex","active","setActive","cur","setCur","window","innerWidth","wWidth","setWidth","UnitEggY","setUnitY","addEventListener","event","style","TextStyle","align","fontFamily","fontSize","fontWeight","fill","headerStyle","descriptionStyle","lineHeight","wordWrap","wordWrapWidth","showNext","length","showPrev","startShowPrilipala","id","id2","backgroundAlpha","slice","map","egg","undefined"],"mappings":"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","sourcesContent":["\nimport bg from '../../assets/img/violet-units.png'\nimport bg_m from '../../assets/img/violet-units-mob.png'\nimport bg2 from '../../assets/img/white-units.png'\nimport bg2_m from '../../assets/img/white-units-mob.png'\nimport arr_up from '../../assets/img/arr-units-up.png'\nimport arr_down from '../../assets/img/arr-units-down.png'\nimport React, { useState } from 'react';\nimport { Stage, Sprite, Container, Text } from '@inlet/react-pixi';\nimport UnitEgg from './Unitegg'\nimport * as PIXI from 'pixi.js'\nimport UnitOpened from './UnitOpened'\nimport { items } from './UnitsMass';\n\n\nexport default function UnitsBlock() {\n    const [index, setIndex] = useState(0)\n    const [active, setActive] = useState(0)\n    const [cur, setCur] = useState(1)\n    const [wWidth, setWidth] = useState(window.innerWidth)\n    const [UnitEggY, setUnitY] = useState(false)\n\n    window.addEventListener('resize', function (event) {\n        setWidth(window.innerWidth)\n    }, true);\n\n\n    const style = new PIXI.TextStyle({\n        align: \"center\",\n        fontFamily: \"Junegull\",\n        fontSize: 18,\n        fontWeight: \"bold\",\n        fill: [\"#fff\"],\n    });\n\n    const headerStyle = new PIXI.TextStyle({\n        align: \"center\",\n        fontFamily: \"Junegull\",\n        fontSize: 42,\n        fontWeight: \"bold\",\n        fill: [\"#7400BB\"]\n    });\n    const descriptionStyle = new PIXI.TextStyle({\n        fontFamily: \"Golos\",\n        fontSize: 15,\n        fontWeight: \"400\",\n        fill: [\"#7400BB\"],\n        lineHeight: 25,\n        wordWrap: true,\n        wordWrapWidth: wWidth > 780 ? 520 : 250\n    });\n\n    const showNext = () => {\n        if (index > items.length - 4) {\n            setIndex(0)\n        } else {\n            setIndex(index + 1)\n        }\n\n    }\n    const showPrev = () => {\n        if (index <= 0) {\n            setIndex(items.length - 3)\n        } else {\n            setIndex(index - 1)\n        }\n    }\n\n\n    const startShowPrilipala = (id, id2) => {\n        setUnitY(id === 1 ? 276 : id === 2 ? 410 : 140)\n        setActive(id);\n        setCur(id2)\n    }\n\n    return (\n        <>\n            {\n                wWidth !== false ?\n                    <Stage width={wWidth > 780 ? 1100 : 342} height={wWidth > 780 ? 700 : 768} options={{ backgroundAlpha: 0 }}>\n                        <Sprite width={wWidth > 780 ? 942 : 341}\n                            height={wWidth > 780 ? 629 : 750}\n                            image={wWidth > 780 ? bg : bg_m}\n                            x={0}\n                            y={30} />\n                        <Sprite\n                            image={wWidth > 780 ? bg2 : bg2_m}\n                            x={wWidth > 780 ? 335 : 0}\n                            y={0}\n                            width={wWidth > 780 ? 678 : 341}\n                            height={wWidth > 780 ? 619 : 653} />\n                        {wWidth > 780 ? <Container>\n                            {items.slice(index, index + 3).map(\n                                (egg, id) => (\n                                    <UnitEgg\n                                        egg={egg}\n                                        key={id}\n                                        x={120}\n                                        y={id === 1 ? 276 : id === 2 ? 410 : 140}\n                                        setActive={() => startShowPrilipala(id, egg.id)}\n                                        active={id === active ? true : false}\n                                    />\n                                )\n                            )}\n                        </Container> : null}\n\n\n                        {cur !== undefined ?\n                            <UnitOpened\n                                items={items}\n                                cur={cur}\n                                headerStyle={headerStyle}\n                                descriptionStyle={descriptionStyle}\n                                wWidth={wWidth}\n                                UnitEggY={UnitEggY}\n                            /> : null}\n\n                        <Container x={wWidth > 780 ? 80 : 50} y={wWidth > 780 ? 500 : 630}>\n                            <Text\n                                text={`${cur} / ${items.length}`}\n                                style={style}\n                                x={160}\n                                y={30} />\n                            <Sprite\n                                image={arr_up}\n                                interactive={true}\n                                buttonMode={true}\n                                pointerdown={showPrev}\n                            />\n                            <Sprite\n                                image={arr_down}\n                                interactive={true}\n                                buttonMode={true}\n                                x={80}\n                                pointerdown={showNext}\n                            />\n                        </Container>\n                    </Stage>\n                    : null\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}