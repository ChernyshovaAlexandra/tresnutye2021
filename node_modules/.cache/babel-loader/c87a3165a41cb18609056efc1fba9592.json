{"ast":null,"code":"import _slicedToArray from\"/Users/alexandrach/Projects/tresnutye2021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import img1 from'../../assets/img/units/zemlyaka/top.png';import img2 from'../../assets/img/units/zemlyaka/bottom.png';import img3 from'../../assets/img/units/zemlyaka/prilipala.png';import img4 from'../../assets/img/units/zemlyaka/zemlyaka.png';import img5 from'../../assets/img/units/Mercusha/mercusha.png';import img6 from'../../assets/img/units/sinishain/sinishain.png';import bg from'../../assets/img/violet-units.png';import bg2 from'../../assets/img/white-units.png';import arr_up from'../../assets/img/arr-units-up.png';import arr_down from'../../assets/img/arr-units-down.png';import React,{useState,useRef}from'react';import{Stage,Sprite,Container,Text}from'@inlet/react-pixi';import UnitEgg from'./Unitegg';import*as PIXI from'pixi.js';import UnitOpened from'./UnitOpened';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var items=[{id:1,tresnutyi:img4,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Земляка',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'},{id:2,tresnutyi:img6,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Синнишайн',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'},{id:3,tresnutyi:img5,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Меркуша',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'},{id:4,tresnutyi:img4,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Земляка4',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'},{id:5,tresnutyi:img4,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Земляка5',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'},{id:6,tresnutyi:img4,prilipala:img3,topEgg:img1,bottomEgg:img2,name:'Земляка6',description:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'}];var style=new PIXI.TextStyle({align:\"center\",fontFamily:\"Junegull\",fontSize:18,fontWeight:\"bold\",fill:[\"#fff\"]});var headerStyle=new PIXI.TextStyle({align:\"center\",fontFamily:\"Junegull\",fontSize:42,fontWeight:\"bold\",fill:[\"#7400BB\"]});export default function UnitsBlock(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),active=_useState4[0],setActive=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),cur=_useState6[0],setCur=_useState6[1];var showNext=function showNext(){if(index+1>items.length-3){setIndex(0);}else{setIndex(index+1);}};var showPrev=function showPrev(){if(index-3<0){setIndex(items.length-3);}else{setIndex(index-1);}};var startShowPrilipala=function startShowPrilipala(id,id2){setCur(undefined);setActive(id);setCur(id2);};return/*#__PURE__*/_jsxs(Stage,{width:1100,height:700,options:{backgroundAlpha:0},children:[/*#__PURE__*/_jsx(Sprite,{width:942,height:629,image:bg,x:0,y:30}),/*#__PURE__*/_jsx(Sprite,{image:bg2,x:335,y:0,width:678,height:619}),/*#__PURE__*/_jsx(Container,{children:items.slice(index,index+3).map(function(egg,id){return/*#__PURE__*/_jsx(UnitEgg,{egg:egg,x:120,y:id===1?276:id===2?410:140,setActive:function setActive(){return startShowPrilipala(id,egg.id);},active:id===active?true:false},id);})}),/*#__PURE__*/_jsxs(Container,{x:80,y:500,children:[/*#__PURE__*/_jsx(Sprite,{image:arr_up,interactive:true,buttonMode:true,pointerdown:showPrev}),/*#__PURE__*/_jsx(Sprite,{image:arr_down,interactive:true,buttonMode:true,x:80,pointerdown:showNext}),/*#__PURE__*/_jsx(Text,{text:\"\".concat(cur,\" / \").concat(items.length),style:style,x:160,y:30})]}),cur!==undefined?/*#__PURE__*/_jsx(UnitOpened,{items:items,cur:cur,headerStyle:headerStyle}):null]});}","map":{"version":3,"sources":["/Users/alexandrach/Projects/tresnutye2021/src/components/elements/UnitsBlock.jsx"],"names":["img1","img2","img3","img4","img5","img6","bg","bg2","arr_up","arr_down","React","useState","useRef","Stage","Sprite","Container","Text","UnitEgg","PIXI","UnitOpened","items","id","tresnutyi","prilipala","topEgg","bottomEgg","name","description","style","TextStyle","align","fontFamily","fontSize","fontWeight","fill","headerStyle","UnitsBlock","index","setIndex","active","setActive","cur","setCur","showNext","length","showPrev","startShowPrilipala","id2","undefined","backgroundAlpha","slice","map","egg"],"mappings":"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","sourcesContent":["import img1 from '../../assets/img/units/zemlyaka/top.png'\nimport img2 from '../../assets/img/units/zemlyaka/bottom.png'\nimport img3 from '../../assets/img/units/zemlyaka/prilipala.png'\nimport img4 from '../../assets/img/units/zemlyaka/zemlyaka.png'\nimport img5 from '../../assets/img/units/Mercusha/mercusha.png'\nimport img6 from '../../assets/img/units/sinishain/sinishain.png'\nimport bg from '../../assets/img/violet-units.png'\nimport bg2 from '../../assets/img/white-units.png'\nimport arr_up from '../../assets/img/arr-units-up.png'\nimport arr_down from '../../assets/img/arr-units-down.png'\nimport React, { useState, useRef } from 'react';\nimport { Stage, Sprite, Container, Text } from '@inlet/react-pixi';\nimport UnitEgg from './Unitegg'\nimport * as PIXI from 'pixi.js'\nimport UnitOpened from './UnitOpened'\n\n\nconst items = [\n    {\n        id: 1,\n        tresnutyi: img4,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Земляка',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    },\n    {\n        id: 2,\n        tresnutyi: img6,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Синнишайн',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    },\n    {\n        id: 3,\n        tresnutyi: img5,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Меркуша',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    },\n    {\n        id: 4,\n        tresnutyi: img4,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Земляка4',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    },\n    {\n        id: 5,\n        tresnutyi: img4,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Земляка5',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    },\n    {\n        id: 6,\n        tresnutyi: img4,\n        prilipala: img3,\n        topEgg: img1,\n        bottomEgg: img2,\n        name: 'Земляка6',\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua'\n    }\n]\nconst style = new PIXI.TextStyle({\n    align: \"center\",\n    fontFamily: \"Junegull\",\n    fontSize: 18,\n    fontWeight: \"bold\",\n    fill: [\"#fff\"],\n});\n\nconst headerStyle = new PIXI.TextStyle({\n    align: \"center\",\n    fontFamily: \"Junegull\",\n    fontSize: 42,\n    fontWeight: \"bold\",\n    fill: [\"#7400BB\"]\n});\n\n\nexport default function UnitsBlock() {\n    const [index, setIndex] = useState(0)\n    const [active, setActive] = useState(0)\n    const [cur, setCur] = useState(1)\n\n    const showNext = () => {\n        if (index + 1 > items.length - 3) {\n            setIndex(0)\n        } else {\n            setIndex(index + 1)\n        }\n\n    }\n    const showPrev = () => {\n        if (index - 3 < 0) {\n            setIndex(items.length - 3)\n        } else {\n            setIndex(index - 1)\n        }\n    }\n\n\n    const startShowPrilipala = (id, id2) => {\n        setCur(undefined)\n        setActive(id); \n        setCur(id2)\n    }\n\n    return (\n        <Stage width={1100} height={700} options={{ backgroundAlpha: 0 }}>\n            <Sprite width={942} height={629} image={bg} x={0} y={30} />\n            <Sprite image={bg2} x={335} y={0} width={678} height={619} />\n            <Container>\n                {items.slice(index, index + 3).map(\n                    (egg, id) => (\n                        <UnitEgg\n                            egg={egg}\n                            key={id}\n                            x={120}\n                            y={id === 1 ? 276 : id === 2 ? 410 : 140}\n                            setActive={()=>startShowPrilipala(id, egg.id)}\n                            active={id === active ? true : false}\n\n                        />\n                    )\n                )}\n            </Container>\n            <Container x={80} y={500}>\n                <Sprite image={arr_up}\n                    interactive={true}\n                    buttonMode={true}\n                    pointerdown={showPrev}\n                />\n                <Sprite image={arr_down}\n                    interactive={true}\n                    buttonMode={true}\n                    x={80}\n                    pointerdown={showNext}\n                />\n                <Text text={`${cur} / ${items.length}`} style={style} x={160} y={30} />\n            </Container>\n\n            {cur !== undefined ?\n                <UnitOpened\n                    items={items}\n                    cur={cur}\n                    headerStyle={headerStyle}\n                /> : null}\n\n        </Stage>\n    )\n}"]},"metadata":{},"sourceType":"module"}